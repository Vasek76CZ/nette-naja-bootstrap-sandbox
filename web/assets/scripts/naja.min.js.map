{"version":3,"file":"Naja.min.js","sources":["../src/utils.ts","../src/core/UIHandler.ts","../src/core/FormsHandler.ts","../src/core/RedirectHandler.ts","../src/core/SnippetHandler.ts","../src/core/HistoryHandler.ts","../src/core/SnippetCache.ts","../src/core/ScriptLoader.ts","../src/Naja.ts","../src/index.ts","../src/extensions/AbortExtension.ts","../src/extensions/UniqueExtension.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["onDomReady","callback","document","readyState","addEventListener","AssertionError","Error","assert","condition","description","undefined","UIHandler","EventTarget","constructor","naja","super","this","window","location","origin","handleUI","bind","initialize","bindUI","body","snippetHandler","event","snippet","detail","element","selectors","selector","join","bindElement","removeEventListener","handler","elements","querySelectorAll","i","length","item","matches","bindForm","form","forms","mouseEvent","altKey","ctrlKey","shiftKey","metaKey","button","currentTarget","options","ignoreErrors","type","submitForm","catch","clickElement","async","data","method","url","dispatchEvent","CustomEvent","cancelable","originalEvent","preventDefault","tagName","HTMLAnchorElement","href","HTMLInputElement","HTMLButtonElement","getAttribute","toUpperCase","pathname","search","FormData","name","append","value","coords","getBoundingClientRect","prefix","Math","max","floor","pageX","left","pageY","top","isUrlAllowed","makeRequest","urlObject","URL","allowedOrigins","includes","FormsHandler","uiHandler","processForm","initForms","netteForms","Nette","initForm","inputElement","validateForm","stopImmediatePropagation","RedirectHandler","hasAttribute","forceRedirect","payload","redirect","makeRedirect","locationAdapter","assign","force","isHardRedirect","setHardRedirect","SnippetHandler","replace","content","innerHTML","prepend","insertAdjacentHTML","snippets","updateSnippets","static","predicate","result","id","fromCache","Object","keys","forEach","getElementById","updateSnippet","operation","op","changeOperation","toLowerCase","title","HistoryHandler","handlePopState","saveUrl","pushNewState","configureMode","historyAdapter","replaceState","state","history","pushState","uiCache","console","warn","defaultOptions","snippetCache","popStateHandler","buildState","prepareOptions","normalizeMode","mode","postGet","SnippetCache","storages","off","OffCacheStorage","HistoryCacheStorage","session","SessionCacheStorage","configureCache","historyHandler","buildHistoryState","restoreHistoryState","resolveStorage","option","storageType","historyUiCache","findSnippets","storage","key","store","fetch","scriptLoader","loadScripts","random","toString","substr","sessionStorage","setItem","JSON","stringify","getItem","parse","ScriptLoader","Set","script","scriptId","loadedScripts","add","test","el","createElement","scripts","has","scriptEl","hasAttributes","attrs","attributes","j","attrName","setAttribute","head","appendChild","parentNode","removeChild","Naja","redirectHandler","formsHandler","registerExtension","extension","initialized","extensions","push","headers","Headers","transformData","abortController","AbortController","request","Request","credentials","signal","set","promise","response","ok","HttpError","json","error","appendToQueryString","searchParams","Array","isArray","getPrototypeOf","prototype","subkey","subvalue","entries","String","isGet","transformedData","URLSearchParams","message","status","statusText","stack","checkAbortable","onInitialize","saveAbortController","clearAbortController","abortable","abort","Map","checkUniqueness","abortPreviousRequest","clearRequest","unique","abortControllers","get","aborted","delete"],"mappings":"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"}